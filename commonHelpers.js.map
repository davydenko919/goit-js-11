{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nconst KEY = `42787384-4c627c93f7dff570902230658`;\nconst BASE_URI = `https://pixabay.com/api/`;\n// let QUERY = 'forest+mountains+ADFVFAWSVA+ADFAFDADF';\n\nexport function getImages(QUERY) {\n  const LINK = `${BASE_URI}?key=${KEY}&q=${QUERY}&image_type=photo&orientation=horizontal&savesearch=true`;\n  return fetch(LINK)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Response error with status ${response.status}`);\n      }\n\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return [];\n      }\n\n      // const images = data.hits.slice(0, 3);\n\n      // document.body.innerHTML = images\n      //   .map(({ webformatURL }) => {\n      //     return `<img src=\"${webformatURL}\">`;\n      //   })\n      //   .join('');\n      return data;\n\n    })\n    .catch(error => {\n       console.log(`Error: ${error}`)\n    });\n}\n","\n\nexport function createGallery(arr) {\n\n  return arr.hits\n    .map(({largeImageURL, webformatURL, tags, likes, views, comments, downloads}) => \n      `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img \n          class=\"gallery-image\" \n          src=\"${webformatURL}\" \n          alt=\"${tags}\" \n          width=\"360px\" height=\"260px\"/>\n      </a>\n      <div class=\"gallery-info\">\n          <p class=\"gallery-info-par\">\n              <span class=\"gallery-info-span\">Likes: <span class=\"tag-span\">${likes}</span>\n              </span>    \n          </p>\n          <p class=\"gallery-info-par\">\n              <span class=\"gallery-info-span\">Views: <span class=\"tag-span\">${views}</span>\n              </span>    \n          </p>\n          <p class=\"gallery-info-par\">\n              <span class=\"gallery-info-span\">Comments: <span class=\"tag-span\">${comments}</span>\n              </span>    \n          </p>\n          <p class=\"gallery-info-par\">\n              <span class=\"gallery-info-span\">Downloads: <span class=\"tag-span\">${downloads}</span>\n              </span>    \n          </p>\n      </div>\n  </li>`\n    )\n    .join('');\n}","import SimpleLightbox from 'simplelightbox';\nimport iziToast from \"izitoast\";\n\nimport {getImages} from \"./js/pixabay-api.js\"\nimport {createGallery} from \"./js/render-functions.js\"\n\nconst cardPlace = document.querySelector('.card-place')\nconst form = document.querySelector('.form');\nconst input = form.querySelector('input');\nconst QUERY = input.value.trim().toLowerCase().replace(/ /g, \"+\");\n\n form.addEventListener('submit', (event) => {\n    event.preventDefault();\n    console.log(getImages(QUERY));\n    // console.log(createGallery(getImages(QUERY)));\n    // cardPlace.innerHTML = createGallery(getImages(QUERY));\n    getImages(QUERY)\n    .then(arr => {\n        cardPlace.innerHTML = createGallery(arr);\n        lightbox.refresh();\n        form.reset();\n      })\n      .catch(error => {\n        console.error('Error:', error);\n      });\n    }\n);\n\nconst lightbox = new SimpleLightbox('.card-place li ', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n\n"],"names":["KEY","BASE_URI","getImages","QUERY","LINK","response","data","iziToast","error","createGallery","arr","largeImageURL","webformatURL","tags","likes","views","comments","downloads","cardPlace","form","input","event","lightbox","SimpleLightbox"],"mappings":"6vBAEA,MAAMA,EAAM,qCACNC,EAAW,2BAGV,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAO,GAAGH,CAAQ,QAAQD,CAAG,MAAMG,CAAK,2DAC9C,OAAO,MAAMC,CAAI,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,8BAA8BA,EAAS,MAAM,EAAE,EAGjE,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACAA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACM,IAUFD,CAER,EACA,MAAME,GAAS,CACb,QAAQ,IAAI,UAAUA,CAAK,EAAE,CACpC,CAAK,CACL,CCpCO,SAASC,EAAcC,EAAK,CAEjC,OAAOA,EAAI,KACR,IAAI,CAAC,CAAC,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACzE;AAAA,sCACgCN,CAAa;AAAA;AAAA;AAAA,iBAGlCC,CAAY;AAAA,iBACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8EAKyDC,CAAK;AAAA;AAAA;AAAA;AAAA,8EAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iFAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,kFAIPC,CAAS;AAAA;AAAA;AAAA;AAAA,QAKtF,EACA,KAAK,EAAE,CACZ,CC7BA,MAAMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,OAAO,EAClChB,EAAQiB,EAAM,MAAM,KAAM,EAAC,YAAW,EAAG,QAAQ,KAAM,GAAG,EAE/DD,EAAK,iBAAiB,SAAWE,GAAU,CACxCA,EAAM,eAAc,EACpB,QAAQ,IAAInB,EAAUC,CAAK,CAAC,EAG5BD,EAAUC,CAAK,EACd,KAAKO,GAAO,CACTQ,EAAU,UAAYT,EAAcC,CAAG,EACvCY,EAAS,QAAO,EAChBH,EAAK,MAAK,CAClB,CAAO,EACA,MAAMX,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACrC,CAAO,CACF,CACL,EAEA,MAAMc,EAAW,IAAIC,EAAe,kBAAmB,CACnD,aAAc,MACd,aAAc,GAClB,CAAG"}